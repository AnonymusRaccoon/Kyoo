<div id="root">
  <div class="player">
    <video id="player" poster="backdrop/{{this.item.showSlug}}" autoplay muted (click)="tooglePlayback()">
      <source src="/api/video/{{this.item.link}}" />
      <source src="/api/video/{{this.item.link}}/stream" type="video/mp4" />
    </video>
  </div>

  <div id="hover">
    <div class="back">
      <button mat-icon-button data-toggle="tooltip" data-placement="bottom" title="Back" (click)="back()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h5>{{this.item.showTitle}}</h5>
    </div>

    <div class="controller container-fluid">
      <div class="img d-none d-sm-block">
        <img src="thumb/{{this.item.showSlug}}" />
      </div>
      <div class="content">
        <h3>S{{this.item.seasonNumber}}:E{{this.item.episodeNumber}} - {{this.item.title}}</h3>

        <div id="progress-bar">
          <div class="seek-bar">
            <div id="buffered"></div>
            <div id="progress"></div>
          </div>
          <div id="thumb"><div></div></div>
        </div>

        <div class="buttons">
          <div class="left">
            <button *ngIf="this.item.previousEpisode" mat-icon-button data-toggle="tooltip" data-placement="top" title="Previous" routerLink="/watch/{{this.item.previousEpisode}}">
              <mat-icon>skip_previous</mat-icon>
            </button>
            <button mat-icon-button data-toggle="tooltip" data-placement="top" title="Play" id="play" (click)="tooglePlayback()">
              <mat-icon>{{this.playIcon}}</mat-icon>
            </button>
            <button mat-icon-button id="nextBtn" *ngIf="this.item.nextEpisode" routerLink="/watch/{{this.item.nextEpisode.link}}">
              <mat-icon>skip_next</mat-icon>

              <div id="next">
                <div id="main">
                  <img src="{{this.item.nextEpisode.thumb}}" />
                </div>
                <div id="overview">
                  <h6>S{{this.item.nextEpisode.seasonNumber}}:E{{this.item.nextEpisode.episodeNumber}} - {{this.item.nextEpisode.title}}</h6>
                  <p>{{this.item.nextEpisode.overview}}</p>
                </div>
              </div>
            </button>
            <div id="volume">
              <button mat-icon-button data-toggle="tooltip" data-placement="top" title="Volume" (click)="toogleMute()">
                <mat-icon>{{this.volumeIcon}}</mat-icon>
              </button>

              <mat-slider [value]="volume" (input)="changeVolume($event)"></mat-slider>
            </div>
            <p *ngIf="this.maxHours; else elseBlock">{{this.hours | number: '2.0-0'}}:{{this.minutes | number: '2.0-0'}}:{{this.seconds | number: '2.0-0'}} / {{this.maxHours | number: '2.0-0'}}:{{this.maxMinutes | number: '2.0-0'}}:{{this.maxSeconds | number: '2.0-0'}}</p>
            <ng-template #elseBlock><p>{{this.minutes | number: '2.0-0'}}:{{this.seconds | number: '2.0-0'}} / {{this.maxMinutes | number: '2.0-0'}}:{{this.maxSeconds | number: '2.0-0'}}</p></ng-template>
          </div>
          <div class="right">
            <button *ngIf="this.item.audios.length > 0" mat-icon-button data-toggle="tooltip" data-placement="top" title="Select audio track">
              <mat-icon>music_note</mat-icon>
            </button>
            <button *ngIf="this.item.subtitles.length > 0" mat-icon-button data-toggle="tooltip" data-placement="top" title="Select subtitle track">
              <mat-icon>closed_caption</mat-icon>
            </button>
            <button mat-icon-button data-toggle="tooltip" data-placement="top" title="Cast">
              <mat-icon>cast</mat-icon>
            </button>
            <button mat-icon-button data-toggle="tooltip" data-placement="top" title="Settings">
              <mat-icon>settings</mat-icon>
            </button>
            <button mat-icon-button data-toggle="tooltip" data-placement="top" title="Fullscreen" id="fullscreen" (click)="fullscreen()">
              <mat-icon>{{fullscreenIcon}}</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
